# Spec-Kit ä¸ç°æœ‰ç³»ç»Ÿé›†æˆæŒ‡å—

> ğŸ“‹ æœ¬æŒ‡å—è¯´æ˜å¦‚ä½•å°† Spec-Kit è§„èŒƒé©±åŠ¨å¼€å‘ä¸ Go-GenAI-Stack çš„ç°æœ‰æ¶æ„é›†æˆ

**æœ€åæ›´æ–°**: 2025-12-19

---

## 1. æ¦‚è¿°

### 1.1 è§„èŒƒå±‚æ¬¡

Go-GenAI-Stack é‡‡ç”¨**åŒå±‚è§„èŒƒä½“ç³»**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Spec-Kit è§„èŒƒå±‚ï¼ˆä¸šåŠ¡å±‚ï¼‰              â”‚
â”‚  .spec-kit/specs/*.spec.md             â”‚  â† What & Why
â”‚  .spec-kit/plans/*.plan.md             â”‚  â† How (é«˜å±‚)
â”‚  .spec-kit/tasks/*.tasks.md            â”‚  â† Tasks
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å®ç°è§„èŒƒå±‚ï¼ˆæŠ€æœ¯å±‚ï¼‰                  â”‚
â”‚  domains/*/usecases.yaml               â”‚  â† How (æŠ€æœ¯å®ç°)
â”‚  domains/*/README.md                   â”‚  â† é¢†åŸŸçŸ¥è¯†
â”‚  domains/*/glossary.md                 â”‚  â† æœ¯è¯­è¡¨
â”‚  domains/*/rules.md                    â”‚  â† ä¸šåŠ¡è§„åˆ™
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä»£ç å®ç°å±‚                             â”‚
â”‚  domains/*/handlers/*.go               â”‚
â”‚  domains/*/service/*.go                â”‚
â”‚  domains/*/repository/*.go             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 èŒè´£åˆ’åˆ†

| è§„èŒƒç±»å‹ | ä½ç½® | å†…å®¹ | å—ä¼— | ç”¨é€” |
|---------|------|------|------|------|
| **ä¸šåŠ¡è§„èŒƒ** | `.spec-kit/specs/` | ä¸šåŠ¡éœ€æ±‚ã€ç”¨æˆ·æ•…äº‹ã€åŠŸèƒ½è§„æ ¼ | äº§å“ã€ä¸šåŠ¡ã€å¼€å‘ | ç†è§£ä¸šåŠ¡ç›®æ ‡ |
| **å®ç°è®¡åˆ’** | `.spec-kit/plans/` | æŠ€æœ¯æ–¹æ¡ˆã€æ¶æ„å†³ç­–ã€å®ç°æ­¥éª¤ | å¼€å‘ã€æ¶æ„ | æŠ€æœ¯å®ç°æŒ‡å¯¼ |
| **ä»»åŠ¡åˆ†è§£** | `.spec-kit/tasks/` | å…·ä½“ä»»åŠ¡ã€éªŒæ”¶æ ‡å‡†ã€ä¾èµ–å…³ç³» | å¼€å‘ | ä»»åŠ¡ç®¡ç† |
| **å®ç°è§„èŒƒ** | `domains/*/usecases.yaml` | API è§„èŒƒã€æ•°æ®æ¨¡å‹ã€ä¸šåŠ¡é€»è¾‘ | AIã€å¼€å‘ | ä»£ç ç”Ÿæˆ |
| **é¢†åŸŸçŸ¥è¯†** | `domains/*/README.md` | é¢†åŸŸæ¦‚è§ˆã€è¾¹ç•Œã€æ ¸å¿ƒæ¦‚å¿µ | AIã€å¼€å‘ | é¢†åŸŸç†è§£ |
| **æœ¯è¯­è¡¨** | `domains/*/glossary.md` | é¢†åŸŸæœ¯è¯­ã€ç»Ÿä¸€è¯­è¨€ | AIã€å¼€å‘ | æœ¯è¯­ç»Ÿä¸€ |
| **ä¸šåŠ¡è§„åˆ™** | `domains/*/rules.md` | ä¸šåŠ¡è§„åˆ™ã€çº¦æŸæ¡ä»¶ | AIã€å¼€å‘ | è§„åˆ™ç†è§£ |

---

## 2. å·¥ä½œæµç¨‹

### 2.1 å®Œæ•´å¼€å‘æµç¨‹

```
1. ä¸šåŠ¡éœ€æ±‚åˆ†æ
   â†“
2. ç¼–å†™ Spec-Kit è§„èŒƒ
   .spec-kit/specs/my-feature.spec.md
   â†“
3. ç”Ÿæˆå®ç°è®¡åˆ’
   .spec-kit/plans/my-feature.plan.md
   â†“
4. åˆ†è§£ä»»åŠ¡
   .spec-kit/tasks/my-feature.tasks.md
   â†“
5. æ›´æ–° usecases.yaml
   domains/my-domain/usecases.yaml
   â†“
6. AI ç”Ÿæˆä»£ç 
   domains/my-domain/handlers/*.go
   domains/my-domain/service/*.go
   â†“
7. å®ç°å’Œæµ‹è¯•
   â†“
8. æ›´æ–°æ–‡æ¡£
   domains/my-domain/README.md
```

### 2.2 è§„èŒƒåŒæ­¥

**ä» Spec-Kit åˆ° usecases.yaml**ï¼š

```yaml
# .spec-kit/specs/task-management.spec.md ä¸­çš„ç”¨æˆ·æ•…äº‹
US-1: åˆ›å»ºä»»åŠ¡
  - ç”¨æˆ·å¯ä»¥è¾“å…¥ä»»åŠ¡æ ‡é¢˜ï¼ˆå¿…å¡«ï¼Œ1-200 å­—ç¬¦ï¼‰
  - ç”¨æˆ·å¯ä»¥è®¾ç½®ä¼˜å…ˆçº§ï¼ˆlow/medium/highï¼‰

# å¯¹åº”åˆ° domains/task/usecases.yaml
CreateTask:
  input:
    title:
      type: string
      required: true
      validation: "max=200,min=1"
    priority:
      type: string
      validation: "oneof=low medium high"
```

---

## 3. é›†æˆç¤ºä¾‹

### 3.1 åˆ›å»ºæ–°åŠŸèƒ½ï¼šå¯¼å‡ºä»»åŠ¡

#### Step 1: ç¼–å†™ Spec-Kit è§„èŒƒ

åˆ›å»º `.spec-kit/specs/task-export.spec.md`ï¼š

```markdown
# Task Export Feature Specification

## ç”¨æˆ·æ•…äº‹
US-1: å¯¼å‡ºä»»åŠ¡
**ä½œä¸º** ç”¨æˆ·  
**æˆ‘å¸Œæœ›** èƒ½å¤Ÿå¯¼å‡ºä»»åŠ¡åˆ—è¡¨ä¸º CSV æ ¼å¼  
**ä»¥ä¾¿** åœ¨ Excel ä¸­åˆ†æå’Œå¤„ç†

## åŠŸèƒ½éœ€æ±‚
- æ”¯æŒå¯¼å‡ºä¸º CSV æ ¼å¼
- åŒ…å«æ‰€æœ‰ä»»åŠ¡å­—æ®µ
- æ”¯æŒç­›é€‰æ¡ä»¶
```

#### Step 2: ç”Ÿæˆå®ç°è®¡åˆ’

åˆ›å»º `.spec-kit/plans/task-export.plan.md`ï¼š

```markdown
# Task Export Implementation Plan

## API è®¾è®¡
GET /api/tasks/export?format=csv&status=pending

## å®ç°æ–¹æ¡ˆ
1. åœ¨ TaskService ä¸­æ·»åŠ  ExportTasks æ–¹æ³•
2. ä½¿ç”¨ csv.Writer ç”Ÿæˆ CSV æ–‡ä»¶
3. è¿”å›æ–‡ä»¶æµ
```

#### Step 3: æ›´æ–° usecases.yaml

æ›´æ–° `backend/domains/task/usecases.yaml`ï¼š

```yaml
ExportTasks:
  description: "å¯¼å‡ºä»»åŠ¡åˆ—è¡¨"
  http:
    method: GET
    path: /api/tasks/export
  input:
    format:
      type: string
      default: "csv"
      validation: "oneof=csv json"
    status:
      type: string
      required: false
      validation: "omitempty,oneof=pending in_progress completed"
  output:
    file_content: string
    content_type: string
  steps:
    - ValidateInput
    - QueryTasks
    - FormatExport
    - ReturnFile
```

#### Step 4: AI ç”Ÿæˆä»£ç 

AI æ ¹æ® `usecases.yaml` è‡ªåŠ¨ç”Ÿæˆï¼š

- `handlers/export_tasks.handler.go`
- `service/task_service.go` (æ·»åŠ  ExportTasks æ–¹æ³•)
- `http/dto/export_tasks.go`

---

## 4. è§„èŒƒç»´æŠ¤

### 4.1 è§„èŒƒåŒæ­¥åŸåˆ™

1. **Spec-Kit è§„èŒƒä¼˜å…ˆ**ï¼šä¸šåŠ¡éœ€æ±‚å˜æ›´å…ˆæ›´æ–° Spec-Kit è§„èŒƒ
2. **å‘ä¸‹åŒæ­¥**ï¼šä» Spec-Kit â†’ usecases.yaml â†’ ä»£ç 
3. **å‘ä¸Šåé¦ˆ**ï¼šä»£ç å®ç°é—®é¢˜åé¦ˆåˆ° usecases.yaml å’Œ Spec-Kit

### 4.2 è§„èŒƒä¸€è‡´æ€§æ£€æŸ¥

å®šæœŸæ£€æŸ¥ä»¥ä¸‹ä¸€è‡´æ€§ï¼š

- [ ] Spec-Kit spec ä¸­çš„ç”¨æˆ·æ•…äº‹ â†” usecases.yaml ä¸­çš„ç”¨ä¾‹
- [ ] Spec-Kit plan ä¸­çš„ API è®¾è®¡ â†” usecases.yaml ä¸­çš„ HTTP å®šä¹‰
- [ ] usecases.yaml ä¸­çš„æ­¥éª¤ â†” ä»£ç å®ç°

### 4.3 è§„èŒƒæ›´æ–°æµç¨‹

```
1. æ›´æ–° Spec-Kit è§„èŒƒ
   â†“
2. æ›´æ–°å®ç°è®¡åˆ’ï¼ˆå¦‚éœ€è¦ï¼‰
   â†“
3. æ›´æ–°ä»»åŠ¡åˆ†è§£ï¼ˆå¦‚éœ€è¦ï¼‰
   â†“
4. æ›´æ–° usecases.yaml
   â†“
5. æ›´æ–°ä»£ç å®ç°
   â†“
6. æ›´æ–°é¢†åŸŸæ–‡æ¡£ï¼ˆREADME.md, glossary.md, rules.mdï¼‰
```

---

## 5. æœ€ä½³å®è·µ

### 5.1 Spec-Kit è§„èŒƒç¼–å†™

âœ… **æ¨èåšæ³•**ï¼š
- ä½¿ç”¨æ¸…æ™°çš„ç”¨æˆ·æ•…äº‹æ ¼å¼
- æ˜ç¡®å®šä¹‰éªŒæ”¶æ ‡å‡†
- åŒ…å«éåŠŸèƒ½éœ€æ±‚
- è®°å½•ä¾èµ–å…³ç³»

âŒ **é¿å…åšæ³•**ï¼š
- è¿‡åº¦æŠ€æœ¯ç»†èŠ‚ï¼ˆåº”æ”¾åœ¨ plan ä¸­ï¼‰
- æ¨¡ç³Šçš„éœ€æ±‚æè¿°
- ç¼ºå°‘éªŒæ”¶æ ‡å‡†

### 5.2 usecases.yaml ç¼–å†™

âœ… **æ¨èåšæ³•**ï¼š
- ä¸ Spec-Kit spec ä¸­çš„ç”¨æˆ·æ•…äº‹å¯¹åº”
- è¯¦ç»†çš„è¾“å…¥è¾“å‡ºå®šä¹‰
- æ¸…æ™°çš„æ­¥éª¤åˆ†è§£
- å®Œæ•´çš„é”™è¯¯å®šä¹‰

âŒ **é¿å…åšæ³•**ï¼š
- ä¸šåŠ¡éœ€æ±‚æè¿°ï¼ˆåº”åœ¨ spec ä¸­ï¼‰
- æ¶æ„å†³ç­–ï¼ˆåº”åœ¨ plan ä¸­ï¼‰
- å®ç°ç»†èŠ‚ï¼ˆåº”åœ¨ä»£ç ä¸­ï¼‰

### 5.3 è§„èŒƒå±‚æ¬¡åˆ†ç¦»

| å†…å®¹ç±»å‹ | Spec-Kit | usecases.yaml | ä»£ç  |
|---------|----------|---------------|------|
| ä¸šåŠ¡éœ€æ±‚ | âœ… | âŒ | âŒ |
| ç”¨æˆ·æ•…äº‹ | âœ… | âŒ | âŒ |
| æŠ€æœ¯æ–¹æ¡ˆ | âœ… (plan) | âŒ | âŒ |
| API è®¾è®¡ | âœ… (plan) | âœ… | âŒ |
| æ•°æ®æ¨¡å‹ | âœ… (plan) | âœ… | âœ… |
| ä¸šåŠ¡é€»è¾‘ | âŒ | âœ… (steps) | âœ… |
| å®ç°ç»†èŠ‚ | âŒ | âŒ | âœ… |

---

## 6. å·¥å…·æ”¯æŒ

### 6.1 Spec-Kit CLI

å¦‚æœä½¿ç”¨ Spec-Kit å®˜æ–¹ CLIï¼š

```bash
# åˆå§‹åŒ– Spec-Kit
spec-kit init

# åˆ›å»ºæ–°è§„èŒƒ
spec-kit new spec task-export

# ç”Ÿæˆè®¡åˆ’
spec-kit plan task-export

# ç”Ÿæˆä»»åŠ¡
spec-kit tasks task-export
```

### 6.2 è‡ªå®šä¹‰è„šæœ¬

å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰è„šæœ¬è‡ªåŠ¨åŒ–è§„èŒƒåŒæ­¥ï¼š

```bash
# scripts/sync-spec-to-usecases.sh
# ä» Spec-Kit spec ç”Ÿæˆ usecases.yaml æ¨¡æ¿
```

---

## 7. å¸¸è§é—®é¢˜

### Q1: Spec-Kit è§„èŒƒå’Œ usecases.yaml é‡å¤æ€ä¹ˆåŠï¼Ÿ

**A**: å®ƒä»¬æœåŠ¡äºä¸åŒç›®çš„ï¼š
- **Spec-Kit**: ä¸šåŠ¡å±‚ï¼Œé¢å‘äº§å“å’Œä¸šåŠ¡
- **usecases.yaml**: æŠ€æœ¯å±‚ï¼Œé¢å‘ AI å’Œå¼€å‘

ä¿æŒä¸€è‡´æ€§ï¼Œä½†å…è®¸ä¸åŒå±‚æ¬¡çš„ç»†èŠ‚ã€‚

### Q2: åº”è¯¥å…ˆå†™ Spec-Kit è¿˜æ˜¯ usecases.yamlï¼Ÿ

**A**: æ¨èæµç¨‹ï¼š
1. å…ˆå†™ Spec-Kit specï¼ˆä¸šåŠ¡éœ€æ±‚ï¼‰
2. å†å†™ Spec-Kit planï¼ˆæŠ€æœ¯æ–¹æ¡ˆï¼‰
3. æœ€åæ›´æ–° usecases.yamlï¼ˆå®ç°è§„èŒƒï¼‰

### Q3: ç°æœ‰åŠŸèƒ½éœ€è¦è¿ç§»åˆ° Spec-Kit å—ï¼Ÿ

**A**: ä½œä¸º starterï¼Œå»ºè®®ï¼š
- æ–°åŠŸèƒ½ï¼šä½¿ç”¨å®Œæ•´æµç¨‹ï¼ˆSpec-Kit â†’ usecases.yaml â†’ ä»£ç ï¼‰
- ç°æœ‰åŠŸèƒ½ï¼šå¯ä»¥é€æ­¥è¿ç§»ï¼Œæˆ–ä¿æŒç°çŠ¶

---

## 8. å‚è€ƒèµ„æ–™

- [Spec-Kit ä½¿ç”¨æŒ‡å—](./spec-kit-guide.md)
- [Task Domain ç¤ºä¾‹](../../.spec-kit/specs/task-management.spec.md)
- [usecases.yaml æ ¼å¼è¯´æ˜](../../backend/domains/task/usecases.yaml)

---

**æœ€åæ›´æ–°**: 2025-12-19  
**ç»´æŠ¤è€…**: Go-GenAI-Stack Team

