#!/bin/bash

# ============================================
# 停止所有服务（业务 + 监控）
# ============================================

set -e

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PROJECT_ROOT="$(cd "$SCRIPT_DIR/.." && pwd)"

echo "============================================"
echo "停止 Go-GenAI-Stack 完整环境"
echo "============================================"
echo ""

# 停止监控服务
echo "📊 停止监控服务..."
cd "$PROJECT_ROOT/docker/monitoring"
./stop.sh "$@"

echo ""
echo "----------------------------------------"
echo ""

# 停止生产服务
echo "📦 停止业务服务..."
cd "$PROJECT_ROOT/docker/prod"
./stop.sh "$@"

echo ""
echo "============================================"
echo "✅ 所有服务已停止！"
echo "============================================"
echo ""

