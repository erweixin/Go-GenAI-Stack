# Go-GenAI-Stack 环境变量配置示例
# 复制此文件为 .env 并修改相应的值

# ==================== 应用配置 ====================
APP_ENV=development
APP_NAME=Go-GenAI-Stack
APP_PORT=8080
APP_DEBUG=true

# ==================== 数据库配置 ====================
# PostgreSQL 配置
DB_HOST=localhost
DB_PORT=5432                  # PostgreSQL 端口（Docker 映射端口）
DB_USER=genai
DB_PASSWORD=genai_password    # ⚠️ 生产环境务必修改
DB_NAME=go_genai_stack
DB_SSLMODE=disable            # 本地开发用，生产环境改为 require

# 连接池配置
DB_MAX_OPEN_CONNS=25          # 最大打开连接数
DB_MAX_IDLE_CONNS=10          # 最大空闲连接数
DB_CONN_MAX_LIFETIME=1h       # 连接最大生命周期
DB_CONN_MAX_IDLE_TIME=10m     # 连接最大空闲时间

# ==================== Redis 配置 ====================
REDIS_HOST=localhost
REDIS_PORT=6379               # Redis 端口（Docker 映射端口）
REDIS_PASSWORD=redis_password # ⚠️ 生产环境务必修改
REDIS_DB=0

# Redis 连接池
REDIS_MAX_RETRIES=3
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=5

# ==================== 日志配置 ====================
LOG_LEVEL=debug               # debug, info, warn, error
LOG_FORMAT=json               # json, text
LOG_OUTPUT=stdout             # stdout, file
LOG_FILE_PATH=./logs/app.log

# ==================== 认证配置 ====================
# JWT (如果需要)
# JWT_SECRET=your-secret-key-here
# JWT_EXPIRY=24h

# ==================== 限流配置 ====================
# 默认限流规则
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100       # 每分钟请求数
RATE_LIMIT_WINDOW=1m          # 时间窗口

# ==================== LLM 配置 (Extension Point) ====================
# OpenAI
# OPENAI_API_KEY=sk-...
# OPENAI_API_BASE=https://api.openai.com/v1
# OPENAI_DEFAULT_MODEL=gpt-4o

# ==================== 监控配置 (Extension Point) ====================
# OpenTelemetry
# OTEL_ENABLED=false
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
# OTEL_SERVICE_NAME=go-genai-stack

# ==================== CORS 配置 ====================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization
CORS_ALLOW_CREDENTIALS=true

# ==================== Docker Compose 配置 ====================
# pgAdmin (可选)
PGADMIN_PORT=5050
PGADMIN_EMAIL=admin@genai.local
PGADMIN_PASSWORD=admin_password

